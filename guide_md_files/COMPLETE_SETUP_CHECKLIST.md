# AIåŠ©æ‰‹å®Œæ•´è®¾ç½®æ£€æŸ¥æ¸…å•

## ðŸ“‹ å½“å‰çŠ¶æ€æ£€æŸ¥

è®©æˆ‘å¸®ä½ æ£€æŸ¥ä¸€ä¸‹å½“å‰çš„çŠ¶æ€ï¼Œçœ‹çœ‹è¿˜å·®å“ªäº›æ­¥éª¤ã€‚

## âœ… å·²å®Œæˆçš„æ­¥éª¤

1. âœ… **ä»£ç å·²å®‰è£…** - AIåŠ©æ‰‹ç›¸å…³ä»£ç å·²é›†æˆåˆ°é¡¹ç›®ä¸­
2. âœ… **åŽç«¯æœåŠ¡å·²é…ç½®** - FastAPIåº”ç”¨å·²åˆ›å»º
3. âœ… **å‰ç«¯ç»„ä»¶å·²åˆ›å»º** - AIåŠ©æ‰‹å’Œè®¾ç½®é¡µé¢å·²å°±ç»ª

## âš ï¸ éœ€è¦å®Œæˆçš„æ­¥éª¤

### æ­¥éª¤1ï¼šç”³è¯·APIå¯†é’¥ï¼ˆå¿…éœ€ï¼‰

**é€‰æ‹©1ï¼šé˜¿é‡Œäº‘ç™¾ç‚¼ï¼ˆæŽ¨èï¼Œå›½å†…ç”¨æˆ·ï¼‰**

1. è®¿é—® [é˜¿é‡Œäº‘ç™¾ç‚¼æŽ§åˆ¶å°](https://dashscope.console.aliyun.com/)
2. æ³¨å†Œ/ç™»å½•é˜¿é‡Œäº‘è´¦å·
3. è¿›å…¥"æ¨¡åž‹æœåŠ¡" â†’ "API-KEYç®¡ç†"
4. åˆ›å»ºæ–°çš„API Key
5. å¤åˆ¶API Keyï¼ˆæ ¼å¼ç±»ä¼¼ï¼š`sk-xxxxxxxxxxxxx`ï¼‰

**é€‰æ‹©2ï¼šOpenAIï¼ˆå›½é™…ç”¨æˆ·ï¼‰**

1. è®¿é—® [OpenAI Platform](https://platform.openai.com/)
2. æ³¨å†Œ/ç™»å½•è´¦å·
3. è¿›å…¥"API keys"
4. åˆ›å»ºæ–°çš„API Key
5. å¤åˆ¶API Key

**é€‰æ‹©3ï¼šDifyï¼ˆå¯é€‰ï¼‰**

1. è®¿é—® [Difyå¹³å°](https://dify.ai/)
2. æ³¨å†Œ/ç™»å½•è´¦å·
3. åˆ›å»ºåº”ç”¨å¹¶èŽ·å–API Key

### æ­¥éª¤2ï¼šåˆ›å»º.envæ–‡ä»¶å¹¶é…ç½®APIå¯†é’¥

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
cd /Users/zhiruiwang/Desktop/Project/travel
```

åˆ›å»ºæ–‡ä»¶å¹¶æ·»åŠ é…ç½®ï¼š

**å¦‚æžœä½¿ç”¨é˜¿é‡Œäº‘ç™¾ç‚¼ï¼š**
```env
# AIé…ç½®
LLM_PRIMARY=aliyun
OPENAI_BASE_URL=https://dashscope.aliyun.com/api/v1
OPENAI_API_KEY=ä½ çš„APIå¯†é’¥ï¼ˆä»ŽæŽ§åˆ¶å°å¤åˆ¶ï¼‰
OPENAI_MODEL=qwen2.5-7b-instruct
```

**å¦‚æžœä½¿ç”¨OpenAIï¼š**
```env
# AIé…ç½®
LLM_PRIMARY=openai
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_API_KEY=ä½ çš„APIå¯†é’¥ï¼ˆä»ŽOpenAIå¹³å°å¤åˆ¶ï¼‰
OPENAI_MODEL=gpt-3.5-turbo
```

**å¦‚æžœä½¿ç”¨Difyï¼š**
```env
# AIé…ç½®
LLM_PRIMARY=dify
DIFY_API_BASE=https://api.dify.ai/v1
DIFY_API_KEY=ä½ çš„Dify APIå¯†é’¥
DIFY_APP_USER=web-user
```

### æ­¥éª¤3ï¼šå¯åŠ¨åŽç«¯æœåŠ¡

```bash
cd /Users/zhiruiwang/Desktop/Project/travel
bash run_backend.sh
```

æœåŠ¡å°†åœ¨ `http://localhost:8000` å¯åŠ¨ã€‚

### æ­¥éª¤4ï¼šå¯åŠ¨å‰ç«¯æœåŠ¡

æ‰“å¼€**æ–°çš„ç»ˆç«¯çª—å£**ï¼š

```bash
cd /Users/zhiruiwang/Desktop/Project/travel
bash run_frontend.sh
```

æˆ–è€…ï¼š

```bash
cd /Users/zhiruiwang/Desktop/Project/travel/frontend
npm install  # å¦‚æžœè¿˜æ²¡å®‰è£…ä¾èµ–
npm run dev
```

å‰ç«¯å°†åœ¨ `http://localhost:3000` å¯åŠ¨ã€‚

### æ­¥éª¤5ï¼šè®¿é—®ç½‘ç«™

1. æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š`http://localhost:3000`
2. ç‚¹å‡»å¯¼èˆªæ çš„ **"è®¾ç½®"** æŒ‰é’®ï¼Œæ£€æŸ¥APIé…ç½®çŠ¶æ€
3. ç‚¹å‡»å¯¼èˆªæ çš„ **"AIåŠ©æ‰‹"** æŒ‰é’®ï¼Œå¼€å§‹ä½¿ç”¨

## ðŸ” éªŒè¯æ­¥éª¤

### éªŒè¯1ï¼šæ£€æŸ¥APIé…ç½®

è®¿é—®è®¾ç½®é¡µé¢ï¼Œåº”è¯¥çœ‹åˆ°ï¼š
- âœ… ç»¿è‰²"å·²é…ç½®"æ ‡ç­¾ = APIå¯†é’¥æ­£ç¡®
- âŒ çº¢è‰²"æœªé…ç½®"æ ‡ç­¾ = éœ€è¦é…ç½®APIå¯†é’¥

### éªŒè¯2ï¼šæµ‹è¯•AIå¯¹è¯

åœ¨AIåŠ©æ‰‹é¡µé¢å‘é€æ¶ˆæ¯ï¼š
- âœ… æ”¶åˆ°AIå›žå¤ = é…ç½®æˆåŠŸ
- âŒ æ˜¾ç¤ºé”™è¯¯ = æ£€æŸ¥APIå¯†é’¥å’Œç½‘ç»œ

### éªŒè¯3ï¼šå‘½ä»¤è¡Œæµ‹è¯•

```bash
# æµ‹è¯•é…ç½®çŠ¶æ€
curl -s http://localhost:8000/api/ai/providers | python3 -m json.tool

# æµ‹è¯•å¯¹è¯ï¼ˆéœ€è¦é…ç½®APIå¯†é’¥ï¼‰
curl -s http://localhost:8000/api/ai/chat \
  -H "Content-Type: application/json" \
  -d '{"provider": "aliyun", "messages": [{"role":"user","content":"ä½ å¥½"}]}' \
  | python3 -m json.tool
```

## ðŸ“ å¿«é€Ÿè®¾ç½®å‘½ä»¤

ä¸€é”®åˆ›å»º.envæ–‡ä»¶ï¼ˆéœ€è¦æ‰‹åŠ¨å¡«å…¥APIå¯†é’¥ï¼‰ï¼š

```bash
cd /Users/zhiruiwang/Desktop/Project/travel
cat > .env << 'EOF'
# AIé…ç½® - è¯·æ›¿æ¢ä¸ºä½ çš„å®žé™…APIå¯†é’¥
LLM_PRIMARY=aliyun
OPENAI_BASE_URL=https://dashscope.aliyun.com/api/v1
OPENAI_API_KEY=è¯·åœ¨è¿™é‡Œå¡«å…¥ä½ çš„APIå¯†é’¥
OPENAI_MODEL=qwen2.5-7b-instruct
EOF
```

ç„¶åŽç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œå°† `è¯·åœ¨è¿™é‡Œå¡«å…¥ä½ çš„APIå¯†é’¥` æ›¿æ¢ä¸ºå®žé™…çš„APIå¯†é’¥ã€‚

## âš ï¸ å¸¸è§é—®é¢˜

### Q1: å¦‚ä½•èŽ·å–é˜¿é‡Œäº‘ç™¾ç‚¼APIå¯†é’¥ï¼Ÿ

1. è®¿é—® https://dashscope.console.aliyun.com/
2. ç™»å½•é˜¿é‡Œäº‘è´¦å·
3. ç‚¹å‡»"API-KEYç®¡ç†"
4. åˆ›å»ºæ–°çš„API Key
5. å¤åˆ¶å¯†é’¥åˆ°.envæ–‡ä»¶

### Q2: APIå¯†é’¥å®‰å…¨å—ï¼Ÿ

- âœ… `.env` æ–‡ä»¶å·²åœ¨ `.gitignore` ä¸­ï¼Œä¸ä¼šè¢«æäº¤åˆ°Git
- âœ… å‰ç«¯ä¸ä¼šæ˜¾ç¤ºå®žé™…å¯†é’¥ï¼Œåªæ˜¾ç¤ºé…ç½®çŠ¶æ€
- âš ï¸ ä¸è¦å°†APIå¯†é’¥åˆ†äº«ç»™ä»–äºº

### Q3: ä¸é…ç½®APIå¯†é’¥å¯ä»¥ä½¿ç”¨å—ï¼Ÿ

- âœ… å¯ä»¥è®¿é—®é¡µé¢å’ŒæŸ¥çœ‹ç•Œé¢
- âŒ æ— æ³•è¿›è¡ŒAIå¯¹è¯
- âœ… é…ç½®APIå¯†é’¥åŽæ‰èƒ½æ­£å¸¸ä½¿ç”¨

### Q4: å¦‚ä½•çŸ¥é“é…ç½®æ˜¯å¦æˆåŠŸï¼Ÿ

1. è®¿é—®è®¾ç½®é¡µé¢ï¼ŒæŸ¥çœ‹æä¾›å•†çŠ¶æ€
2. å¦‚æžœæ˜¾ç¤º"å·²é…ç½®"ï¼Œè¯´æ˜Žé…ç½®æˆåŠŸ
3. åœ¨AIåŠ©æ‰‹é¡µé¢æµ‹è¯•å¯¹è¯

## ðŸŽ¯ å®Œæˆæ ‡å¿—

å½“ä»¥ä¸‹æ‰€æœ‰é¡¹éƒ½å®Œæˆæ—¶ï¼ŒAIåŠ©æ‰‹å°±å¯ä»¥ä½¿ç”¨äº†ï¼š

- [ ] APIå¯†é’¥å·²ç”³è¯·
- [ ] .envæ–‡ä»¶å·²åˆ›å»ºå¹¶é…ç½®
- [ ] åŽç«¯æœåŠ¡å·²å¯åŠ¨ï¼ˆç«¯å£8000ï¼‰
- [ ] å‰ç«¯æœåŠ¡å·²å¯åŠ¨ï¼ˆç«¯å£3000ï¼‰
- [ ] è®¾ç½®é¡µé¢æ˜¾ç¤º"å·²é…ç½®"
- [ ] AIåŠ©æ‰‹å¯ä»¥æ­£å¸¸å¯¹è¯

## ðŸš€ å¼€å§‹ä½¿ç”¨

å®Œæˆæ‰€æœ‰æ­¥éª¤åŽï¼š

1. è®¿é—® `http://localhost:3000`
2. ç‚¹å‡»"AIåŠ©æ‰‹"
3. å¼€å§‹å¯¹è¯ï¼

